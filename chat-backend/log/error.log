error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: Erro ao salvar usuário: data and salt arguments required\nError: Erro ao salvar usuário: data and salt arguments required\n    at UserRepository.save (E:\\CDChat\\chat-backend\\src\\models\\user.repository.js:52:19)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"Error: Erro ao salvar usuário: data and salt arguments required\n    at UserRepository.save (E:\\CDChat\\chat-backend\\src\\models\\user.repository.js:52:19)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Fri Jun 21 2019 09:13:10 GMT-0400 (GMT-04:00)","process":{"pid":20652,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":45039616,"heapTotal":27037696,"heapUsed":21399072,"external":18265111}},"os":{"loadavg":[0,0,0],"uptime":560743},"trace":[{"column":19,"file":"E:\\CDChat\\chat-backend\\src\\models\\user.repository.js","function":"UserRepository.save","line":52,"method":"save","native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/register","headers":{"cache-control":"no-cache","postman-token":"b2e59e5d-ce19-4026-ab12-4cfb9244849c","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"0","connection":"keep-alive"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/register","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: Erro ao salvar usuário: data and salt arguments required\nError: Erro ao salvar usuário: data and salt arguments required\n    at UserRepository.save (E:\\CDChat\\chat-backend\\src\\models\\user.repository.js:52:19)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"Error: Erro ao salvar usuário: data and salt arguments required\n    at UserRepository.save (E:\\CDChat\\chat-backend\\src\\models\\user.repository.js:52:19)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Fri Jun 21 2019 09:14:29 GMT-0400 (GMT-04:00)","process":{"pid":20652,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":45961216,"heapTotal":27037696,"heapUsed":21802624,"external":18337724}},"os":{"loadavg":[0,0,0],"uptime":560822},"trace":[{"column":19,"file":"E:\\CDChat\\chat-backend\\src\\models\\user.repository.js","function":"UserRepository.save","line":52,"method":"save","native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/register","headers":{"content-type":"application/json","cache-control":"no-cache","postman-token":"c10939e4-8099-4e74-99f2-bf29cb80ccf3","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"74","connection":"keep-alive"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/register","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: Erro ao salvar usuário: data and salt arguments required\nError: Erro ao salvar usuário: data and salt arguments required\n    at UserRepository.save (E:\\CDChat\\chat-backend\\src\\models\\user.repository.js:53:19)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"Error: Erro ao salvar usuário: data and salt arguments required\n    at UserRepository.save (E:\\CDChat\\chat-backend\\src\\models\\user.repository.js:53:19)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Fri Jun 21 2019 09:15:15 GMT-0400 (GMT-04:00)","process":{"pid":30940,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":59576320,"heapTotal":57970688,"heapUsed":22394312,"external":18367122}},"os":{"loadavg":[0,0,0],"uptime":560868},"trace":[{"column":19,"file":"E:\\CDChat\\chat-backend\\src\\models\\user.repository.js","function":"UserRepository.save","line":53,"method":"save","native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/register","headers":{"content-type":"application/json","cache-control":"no-cache","postman-token":"9a828349-df3a-4ba7-886a-94d0cef0af35","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"74","connection":"keep-alive"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/register","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: ChannelsRepository is not defined\nReferenceError: ChannelsRepository is not defined\n    at view (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:28:27)\n    at Layer.handle [as handle_request] (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at ValidateUser (E:\\CDChat\\chat-backend\\src\\middlewares\\validate_user.middleware.js:7:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"ReferenceError: ChannelsRepository is not defined\n    at view (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:28:27)\n    at Layer.handle [as handle_request] (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at ValidateUser (E:\\CDChat\\chat-backend\\src\\middlewares\\validate_user.middleware.js:7:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Fri Jun 21 2019 12:06:11 GMT-0400 (GMT-04:00)","process":{"pid":19152,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":61530112,"heapTotal":60067840,"heapUsed":22601024,"external":18368163}},"os":{"loadavg":[0,0,0],"uptime":571125},"trace":[{"column":27,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"view","line":28,"method":null,"native":false},{"column":5,"file":"E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":9,"file":"E:\\CDChat\\chat-backend\\src\\middlewares\\validate_user.middleware.js","function":"ValidateUser","line":7,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"b5c8262f-095e-4ba7-8281-b61ff6848f93","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: Cannot read property 'name' of null\nTypeError: Cannot read property 'name' of null\n    at view (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:33:35)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"TypeError: Cannot read property 'name' of null\n    at view (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:33:35)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Fri Jun 21 2019 12:06:28 GMT-0400 (GMT-04:00)","process":{"pid":28768,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":60878848,"heapTotal":59543552,"heapUsed":22849216,"external":18368505}},"os":{"loadavg":[0,0,0],"uptime":571141},"trace":[{"column":35,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"view","line":33,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"a6e316b9-0a89-4a96-a177-c98bd25a0f4b","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: Erro ao buscar canal: User is not defined\nError: Erro ao buscar canal: User is not defined\n    at ChannelRepository.find (E:\\CDChat\\chat-backend\\src\\models\\channel.repository.js:13:19)\n    at list (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:28:52)\n    at Layer.handle [as handle_request] (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at ValidateUser (E:\\CDChat\\chat-backend\\src\\middlewares\\validate_user.middleware.js:7:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"Error: Erro ao buscar canal: User is not defined\n    at ChannelRepository.find (E:\\CDChat\\chat-backend\\src\\models\\channel.repository.js:13:19)\n    at list (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:28:52)\n    at Layer.handle [as handle_request] (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at ValidateUser (E:\\CDChat\\chat-backend\\src\\middlewares\\validate_user.middleware.js:7:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Fri Jun 21 2019 12:07:57 GMT-0400 (GMT-04:00)","process":{"pid":24832,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":59867136,"heapTotal":58494976,"heapUsed":22800144,"external":18368715}},"os":{"loadavg":[0,0,0],"uptime":571230},"trace":[{"column":19,"file":"E:\\CDChat\\chat-backend\\src\\models\\channel.repository.js","function":"ChannelRepository.find","line":13,"method":"find","native":false},{"column":52,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"list","line":28,"method":null,"native":false},{"column":5,"file":"E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":9,"file":"E:\\CDChat\\chat-backend\\src\\middlewares\\validate_user.middleware.js","function":"ValidateUser","line":7,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"e12c1098-f50e-4df2-9a6e-a0109b975a29","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: Erro ao buscar canal: User is not defined\nError: Erro ao buscar canal: User is not defined\n    at ChannelRepository.find (E:\\CDChat\\chat-backend\\src\\models\\channel.repository.js:13:19)\n    at list (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:28:52)\n    at Layer.handle [as handle_request] (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at ValidateUser (E:\\CDChat\\chat-backend\\src\\middlewares\\validate_user.middleware.js:7:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"Error: Erro ao buscar canal: User is not defined\n    at ChannelRepository.find (E:\\CDChat\\chat-backend\\src\\models\\channel.repository.js:13:19)\n    at list (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:28:52)\n    at Layer.handle [as handle_request] (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\layer.js:95:5)\n    at next (E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\route.js:137:13)\n    at ValidateUser (E:\\CDChat\\chat-backend\\src\\middlewares\\validate_user.middleware.js:7:9)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Fri Jun 21 2019 12:08:36 GMT-0400 (GMT-04:00)","process":{"pid":24240,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":59338752,"heapTotal":58494976,"heapUsed":21839352,"external":18349951}},"os":{"loadavg":[0,0,0],"uptime":571269},"trace":[{"column":19,"file":"E:\\CDChat\\chat-backend\\src\\models\\channel.repository.js","function":"ChannelRepository.find","line":13,"method":"find","native":false},{"column":52,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"list","line":28,"method":null,"native":false},{"column":5,"file":"E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\layer.js","function":"Layer.handle [as handle_request]","line":95,"method":"handle [as handle_request]","native":false},{"column":13,"file":"E:\\CDChat\\chat-backend\\node_modules\\express\\lib\\router\\route.js","function":"next","line":137,"method":null,"native":false},{"column":9,"file":"E:\\CDChat\\chat-backend\\src\\middlewares\\validate_user.middleware.js","function":"ValidateUser","line":7,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"6c8e3572-2cab-4d0f-bc76-71018192a36a","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: history.map is not a function\nTypeError: history.map is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:67:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"TypeError: history.map is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:67:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Sat Jun 22 2019 07:17:52 GMT-0400 (GMT-04:00)","process":{"pid":21996,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":46923776,"heapTotal":28086272,"heapUsed":23083528,"external":18360662}},"os":{"loadavg":[0,0,0],"uptime":640225},"trace":[{"column":32,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"history","line":67,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels/Geral/history/0","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"3632e973-aa3a-4b88-9b80-bf50dbc6b786","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels/Geral/history/0","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: history.map is not a function\nTypeError: history.map is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:69:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"TypeError: history.map is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:69:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Sat Jun 22 2019 07:18:39 GMT-0400 (GMT-04:00)","process":{"pid":29860,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":62402560,"heapTotal":60592128,"heapUsed":23467424,"external":18368623}},"os":{"loadavg":[0,0,0],"uptime":640272},"trace":[{"column":32,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"history","line":69,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels/Geral/history/0","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"95fdd5c8-6c29-4ac6-878b-e21e645fe32a","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels/Geral/history/0","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: history.map is not a function\nTypeError: history.map is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:70:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"TypeError: history.map is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:70:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Sat Jun 22 2019 07:18:56 GMT-0400 (GMT-04:00)","process":{"pid":13976,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":61841408,"heapTotal":59543552,"heapUsed":23547136,"external":18368623}},"os":{"loadavg":[0,0,0],"uptime":640289},"trace":[{"column":32,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"history","line":70,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels/Geral/history/0","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"d40133c0-e8c9-4ff6-9b7a-cb3f922f3a86","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels/Geral/history/0","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: history.map is not a function\nTypeError: history.map is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:75:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"TypeError: history.map is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:75:32)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Sat Jun 22 2019 07:21:00 GMT-0400 (GMT-04:00)","process":{"pid":20080,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":61538304,"heapTotal":60067840,"heapUsed":23511472,"external":18519564}},"os":{"loadavg":[0,0,0],"uptime":640413},"trace":[{"column":32,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"history","line":75,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels/Geral/history/0","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"2d95da40-715a-4b91-844f-6cef47b002dc","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels/Geral/history/0","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: data is not defined\nReferenceError: data is not defined\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:72:27)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"ReferenceError: data is not defined\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:72:27)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Sat Jun 22 2019 07:21:23 GMT-0400 (GMT-04:00)","process":{"pid":28276,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":62115840,"heapTotal":59543552,"heapUsed":24096952,"external":18377856}},"os":{"loadavg":[0,0,0],"uptime":640437},"trace":[{"column":27,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"history","line":72,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels/Geral/history/0","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"94e78da5-83d2-42ed-997c-5ec659bcdd6f","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels/Geral/history/0","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: Erro ao adicionar nova mensagem ao canal: channel.history.unshift is not a function\nError: Erro ao adicionar nova mensagem ao canal: channel.history.unshift is not a function\n    at ChannelRepository.addMessage (E:\\CDChat\\chat-backend\\src\\models\\channel.repository.js:102:19)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"Error: Erro ao adicionar nova mensagem ao canal: channel.history.unshift is not a function\n    at ChannelRepository.addMessage (E:\\CDChat\\chat-backend\\src\\models\\channel.repository.js:102:19)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Sat Jun 22 2019 07:23:20 GMT-0400 (GMT-04:00)","process":{"pid":26440,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":61427712,"heapTotal":59543552,"heapUsed":23497176,"external":18377258}},"os":{"loadavg":[0,0,0],"uptime":640553},"trace":[{"column":19,"file":"E:\\CDChat\\chat-backend\\src\\models\\channel.repository.js","function":"ChannelRepository.addMessage","line":102,"method":"addMessage","native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels/Geral","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTIwMjU1NiwiZXhwIjoxNTYxMjg4OTU2fQ.Vta_nXO6EDoZ2aBLfso_JV827sZdAgJUUPuDHq_cums","cache-control":"no-cache","postman-token":"ece0c6e4-b5eb-4400-ba5d-3c80d1fd9065","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"42","connection":"keep-alive"},"method":"POST","httpVersion":"1.1","originalUrl":"/api/channels/Geral","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: history.map(...).revert is not a function\nTypeError: history.map(...).revert is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:78:16)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"TypeError: history.map(...).revert is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:78:16)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Sat Jun 22 2019 07:29:28 GMT-0400 (GMT-04:00)","process":{"pid":33256,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":46809088,"heapTotal":28086272,"heapUsed":23199368,"external":18273533}},"os":{"loadavg":[0,0,0],"uptime":640921},"trace":[{"column":16,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"history","line":78,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels/Geral/history/0","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"82ba1146-a20b-4897-a50d-0a51445f0225","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels/Geral/history/0","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: history.map(...).revert is not a function\nTypeError: history.map(...).revert is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:79:16)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"TypeError: history.map(...).revert is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:79:16)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Sat Jun 22 2019 07:29:56 GMT-0400 (GMT-04:00)","process":{"pid":14844,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":61755392,"heapTotal":59543552,"heapUsed":23827072,"external":18369215}},"os":{"loadavg":[0,0,0],"uptime":640949},"trace":[{"column":16,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"history","line":79,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels/Geral/history/0","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"08da425f-8795-42ff-a119-6d4d3616d2f2","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels/Geral/history/0","query":{}}}}
error: middlewareError {"meta":{"error":{},"level":"error","message":"uncaughtException: history.map(...).revert is not a function\nTypeError: history.map(...).revert is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:79:16)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","stack":"TypeError: history.map(...).revert is not a function\n    at history (E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js:79:16)\n    at process._tickCallback (internal/process/next_tick.js:68:7)","exception":true,"date":"Sat Jun 22 2019 07:31:59 GMT-0400 (GMT-04:00)","process":{"pid":19764,"uid":null,"gid":null,"cwd":"E:\\CDChat\\chat-backend","execPath":"C:\\Program Files\\nodejs\\node.exe","version":"v10.15.3","argv":["C:\\Program Files\\nodejs\\node.exe","E:\\CDChat\\chat-backend\\src\\server.js"],"memoryUsage":{"rss":62271488,"heapTotal":60592128,"heapUsed":23849176,"external":18369215}},"os":{"loadavg":[0,0,0],"uptime":641072},"trace":[{"column":16,"file":"E:\\CDChat\\chat-backend\\src\\controllers\\channel.controller.js","function":"history","line":79,"method":null,"native":false},{"column":7,"file":"internal/process/next_tick.js","function":"process._tickCallback","line":68,"method":"_tickCallback","native":false}],"req":{"url":"/api/channels/Geral/history/0","headers":{"content-type":"application/json","x-access-token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVkMGNkOGVlNzM2YTdkMzIzY2NmMGYyNiIsImlhdCI6MTU2MTEzMzAzNSwiZXhwIjoxNTYxMjE5NDM1fQ.uicFfkwq-QkjgUEcN6PczRVy5o08ajkyKeF9Z2BWZy0","cache-control":"no-cache","postman-token":"0672f540-91a5-4147-b1c2-ea2735bab732","user-agent":"PostmanRuntime/7.6.0","accept":"*/*","host":"localhost:3030","cookie":"session=s%3AzG2zkPoZiFbGcK5EJByfo3H5kulmoNKs.mEOcWHFLHlAK6v1o4Cnlxc5nDLSAm1r9vKu%2F6A6OVk4","accept-encoding":"gzip, deflate","content-length":"20","connection":"keep-alive"},"method":"GET","httpVersion":"1.1","originalUrl":"/api/channels/Geral/history/0","query":{}}}}
